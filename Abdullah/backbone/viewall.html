<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js" type="text/javascript"></script>

    </head>

<h1>  User manager </h1>
<body>
<script type="text/template" id ="user-list-template">
<table border='1'>
    <tr>
        <th>Id</th>
        <th>Courseteach</th>
        <th>phonenumber</th>
        <th>city</th>

        </tr>
      <tbody>
      <%_.each(users,function(users){%>
      <tr>
          <td><%=users.get['Id']%></td>
          <td><%=users.get['Courseteach']%></td>
          <td><%=users.get['phonenumber']%></td>
          <td><%=users.get['city']%></td>


    </tr>
</tbody>
</table>
    </script>
    <!--<td> <a href='database.html/{$i.Id}&action=delete'>Delete</a>-->


    <!--<a href='update.php?id={$row['id']} name={$row['name']} dob={$row['dob']} fname={$row['fname']} class={$row['class']} address={$row['address']} city={$row['city']} school={$row['school']}'>update</a>";-->

    <!--echo " / ";-->

    <!--//echo "<a href='delete.php?id={$row['id']}'>Delete</a>";-->
    <!--echo "<a name='id' value = {$row['id']} href='include/function.php?id={$row['id']}&action=delete'>Delete</a>";-->

    <!--echo "</td>";-->

    <!--echo "</tr>";-->



</body>

<script>
$.ajaxPrefilter(function(options,originalOptions,jqXHR) {

    options.url = 'http://localhost/apigility/public' + options.url;

});
    var users = Backbone.Collection.extend({

        url: "/teacher"


    });
var UserListView = Backbone.View.extend({
    el: '.page',
    render: function () {
        var that = this;
        var users = new Users();
        users.fetch({
            success: function (users) {
                var template = _.template($('#user-list-template').html(), {users: users.models});
                that.$el.html(template);
            }
        })
    }
});


    var router = Backbone.Router.extend({
        routes: {
            '': 'viewall.html'

        }
    });
    var userlist = new userlist();
    var router = new Router();
    router.on('route:home', function () {


        userlist.render();
    });

Backbone.history.start();


</script>

</html>